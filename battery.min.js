var Battery=function(){var e=this;e.status={charging:null,level:null,chargingTime:null,dischargingTime:null};e.handlers=[];var t=function(){e.status.charging=e._battery.charging;e.status.level=e._battery.level;e.status.chargingTime=e._battery.chargingTime;e.status.dischargingTime=e._battery.dischargingTime;console.log("handler");e.handlers.forEach(function(t){t(e.status)})};var n=function(){e._battery.addEventListener("chargingchange",t);e._battery.addEventListener("chargingtimechange",t);e._battery.addEventListener("dischargingtimechange",t);e._battery.addEventListener("levelchange",t)};e._battery;if(e._battery=navigator.battery||navigator.mozBattery){t();n()}else if(navigator.getBattery){navigator.getBattery().then(function(r){e._battery=r;t();n()})}};Battery.isSupported=function(){return!!(navigator.battery||navigator.mozBattery||navigator.getBattery)};Battery.prototype.getStatus=function(e){e(this.status)};Battery.prototype.onUpdate=function(e){this.handlers.push(e)}